<html><head><title>formula tests</title>
    <script src='eval.js'></script>
</head>
<body>
    <table id='results'> 
    </table>

<script>
let data=[
    '2+2', 4,
    '2+2*3', 8,
    '-3^2+5', 14,
    '* -pi^2', -1,
    '/2', 0.5, 
    'sin pi/2', 0,
    '3 sin( pi/2 )', 3,
    '3 * 1/3', 1,
    '1/3 * 3', 1,
    'sqrt(5)^2', 5,
    '-1234+1111', -123

];

var results='';
for (let idx=0; idx+1<data.length; idx+=2) {
    let s=data[idx];
    let expr=new Expression(s);
    let rs=expr.fudge();

    results += '<tr><td>'+s+'</td><td>=&nbsp;'+
        rs+'</td><td>'+
            ((rs==data[idx+1])?'&nbsp;ok':'<span style="color:red">WRONG</span>')+
            '</td></tr>';  // todo show errors if any
}

document.getElementById('results').innerHTML=results;



</script>

</body>
</html>